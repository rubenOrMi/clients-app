@if (clienteSeleccionado) {
    <detalle-cliente [cliente]="clienteSeleccionado"></detalle-cliente>
}

<div class="card border-primary mb-3">
    <div class="card-body text-primary">
      <h5 class="card-title">Listado de clientes</h5>

      
        <div class="card-text">
                
            <button class="btn btn-rounded btn-primary my-2" type="button" [routerLink]="['/clientes/form']" >Crear cliente</button>
            
            @if (clientes.length > 0) {

                <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Perfil</th>
                        <th>Nombre</th>
                        <th>Apellido</th>
                        <th>Email</th>
                        <th>Fecha creaci√≥n</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @for (cliente of clientes; track $index) {
                        <tr>
                            <td (click)="openModal(cliente)" class="lista-foto">
                                @if (cliente.foto) {
                                    <img src="http://localhost:8080/api/uploads/img/{{ cliente.foto }}" alt="{{cliente.foto}}" loading="lazy" class="img-thumbnail rounded">
                                } @else {
                                    <img src="http://localhost:8080/images/no-user.png" alt="no-photo" loading="lazy" class="img-thumbnail rounded">
                                }
                            </td>
                            <td> {{ cliente.nombre }} </td>
                            <td> {{ cliente.apellido | uppercase }} </td>
                            <td> {{ cliente.email }} </td>
                            <td> {{ cliente.createAt }} </td>
                            <td>
                                <button type="button" name="update" class="btn btn-info" [routerLink]="['/clientes/form', cliente.id]">Editar</button>
                            </td>
                            <td>
                                <button type="button" name="delete" class="btn btn-outline-danger" (click)="delete(cliente)">Eliminar</button>
                            </td>
                        </tr>
                    }
                </tbody>
                </table>
                @if (paginator) {
                    <paginator-nav [paginator] = "paginator" [url]="'/clientes/page'"></paginator-nav>
                }
            } @else {
                <div class="alert alert-warning text-center">
                    <span><b>No existen registros de clientes.</b></span>
                </div>
            }
        </div>
    </div>
</div>
